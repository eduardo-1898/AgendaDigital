@{
    ViewData["Title"] = "Agenda digital";

}
@model List<Services.Messaging.ViewModels.VehiclesView>;

<link href='https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css' rel='stylesheet'>
<link href='https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css' rel='stylesheet'>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.4/index.global.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.9.0/locales-all.js"></script>


<script src="~/choser/dselect.js"></script>
<link rel="stylesheet" href="~/choser/dselect.css" />


<div class="card-body">
    <div id="calendar">

    </div>
</div>

<div class="modal fade" id="modalAgenda" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modaltittle">Agenda</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <input id="idupdate" hidden />
                <input id="NuevoClienteUpdate" hidden type="checkbox" />
                <div class="mb-3 row">
                    <label for="cliente" class="col-sm-2 col-form-label">Cliente</label>
                    <div class="col-sm-10">
                        <input type="text" id="clienteUpdate" class="form-control">
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="FechaUpdate" class="col-sm-2 col-form-label">Fecha</label>
                    <div class="col-sm-10">
                        <input type="date" id="FechaUpdate" class="form-control">
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="HoraEntradaUpdate" class="col-sm-2 col-form-label">Hora entrada</label>
                    <div class="col-sm-10">
                        <input type="time" id="HoraEntradaUpdate" class="form-control">
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="HoraSalidaUpdate" class="col-sm-2 col-form-label">Hora salida</label>
                    <div class="col-sm-10">
                        <input type="time" id="HoraSalidaUpdate" class="form-control">
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="sucursal" class="col-sm-2 col-form-label">Sucursal</label>
                    <div class="col-sm-10">
                        <select id="sucursalUpdate" class="form-select">
                            <option value="">Seleccione</option>
                            <option value="ANU-05">Uruca</option>
                            <option value="ANA-05">Alajuela</option>
                            <option value="ANC-05">Curridabat</option>
                        </select>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="vehiculoupdate" class="col-sm-2 col-form-label">Vehiculo</label>
                    <div class="col-sm-10">
                        <select id="vehiculoupdate" class="form-select">
                            <option value="">Seleccione..</option>
                        </select>
                    </div>
                </div>
                <div class="mb-3 row">
                    <div class="form-check mx-3">
                        <input type="checkbox" onclick="" id="eliminar" class="form-check-input">
                        <label for="eliminar" class="form-check-label">Esta seguro que desea eliminar este registro?</label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" id="deleteButton" class="btn btn-danger disabled" data-bs-dismiss="modal">Eliminar</button>
                <button type="button" id="updateButton" class="btn btn-success" data-bs-dismiss="modal">Actualizar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalAddEvents" tabindex="-1" role="dialog" aria-labelledby="modalTittle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle">Agregar reserva</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <input id="idCliente" hidden type="text" />
                <input id="NuevoCliente" hidden type="checkbox" />
                <div class="mb-3 row">
                    <label for="cliente" class="col-sm-2 col-form-label">Cliente</label>
                    <div class="col-sm-10">
                        <input type="text" id="clienteadd" class="form-control">
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="Fecha" class="col-sm-2 col-form-label">Fecha</label>
                    <div class="col-sm-10">
                        <input type="date" id="Fecha" class="form-control">
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="HoraEntrada" class="col-sm-2 col-form-label">Hora entrada</label>
                    <div class="col-sm-10">
                        <input type="time" id="HoraEntrada" class="form-control">
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="HoraSalida" class="col-sm-2 col-form-label">Hora salida</label>
                    <div class="col-sm-10">
                        <input type="time" id="HoraSalida" class="form-control">
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="sucursal" class="col-sm-2 col-form-label">Sucursal</label>
                    <div class="col-sm-10">
                        <select id="sucursal" class="form-select">
                            <option value="">Seleccione</option>
                            <option value="ANU-05">Uruca</option>
                            <option value="ANA-05">Alajuela</option>
                            <option value="ANC-05">Curridabat</option>
                        </select>
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="Vehiculo" class="col-sm-2 col-form-label">Vehiculo</label>
                    <div class="col-sm-10">
                        <select id="vehiculo" class="form-select">
                            <option value="">Seleccione..</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" id="btnagregar" class="btn btn-success" data-bs-dismiss="modal">Agregar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalAddBlock" tabindex="-1" role="dialog" aria-labelledby="modalTittle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle">Bloquear vehiculo</h5>
                <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="mb-3 row">
                    <label for="Fecha" class="col-sm-2 col-form-label">Fecha Inicio</label>
                    <div class="col-sm-10">
                        <input type="date" id="FechaInicioBlock" class="form-control">
                    </div>
                </div>

                <div class="mb-3 row">
                    <label for="Fecha" class="col-sm-2 col-form-label">Fecha Final</label>
                    <div class="col-sm-10">
                        <input type="date" id="FechaFinBlock" class="form-control">
                    </div>
                </div>

                <div class="mb-3 row">
                    <label for="Fecha" class="col-sm-2 col-form-label">Motivo</label>
                    <div class="col-sm-10">
                        <input type="text" id="comentarioBlock" maxlength="98" class="form-control">
                    </div>
                </div>

                <div class="mb-3 row">
                    <label for="Vehiculo" class="col-sm-2 col-form-label">Vehiculo</label>
                    <div class="col-sm-10">
                        <select id="vehiculoblock" class="form-select">
                            @foreach (var item in Model)
                            {
                                <option value="@item.SerieLote">@item.SerieLote</option>
                            }
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                <button type="button" id="btnBloquear" class="btn btn-success" data-bs-dismiss="modal">Bloquear</button>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script src="~/js/Agenda/agenda.js"></script>
    <script src="~/js/Agenda/actions.js"></script>
    <script>
        const config = {
            search: true, // Toggle search feature. Default: false
            creatable: false, // Creatable selection. Default: false
            clearable: false, // Clearable selection. Default: false
            maxHeight: '360px', // Max height for showing scrollbar. Default: 360px
            size: '', // Can be "sm" or "lg". Default ''
        }
        dselect(document.querySelector('#vehiculo'), config);
        dselect(document.querySelector('#vehiculoupdate'), config);
        dselect(document.querySelector('#vehiculoblock'), config);
    </script>
}